!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");const i=n(1).zip;window.zip=i,n(2),i.Inflater=n(3).Inflater,i.useWebWorkers=!1,AFRAME.registerComponent("sketchfab",{schema:{token:{default:""},src:{},normalize:{type:"boolean",default:!0}},multiple:!1,init:function(){this.model=null,this.loadSketchfabModel=this.loadSketchfabModel.bind(this)},update:function(e){const t=this.el,n=this.data;n.src&&n.token&&(this.remove(),this.getGLTFUrl(n.src,n.token).then(this.loadSketchfabModel).then(e=>{console.log("loaded",e),this.model=e.scene||e.scenes[0],this.model.animations=e.animations,t.setObject3D("mesh",this.model),n.normalize&&this.normalize(),t.emit("model-loaded")}).catch(e=>{console.error('ERROR loading Sketchfab model from "'+n.src+'" : '+e),t.emit("model-error",e)}))},normalize:function(){const e=this.el,t=e.getObject3D("mesh");var n=(new THREE.Box3).setFromObject(t),i=1/Math.max(n.max.x-n.min.x,n.max.y-n.min.y,n.max.z-n.min.z);t.scale.set(i,i,i);var r=n.min.x*i*-1-(n.max.x-n.min.x)/2*i,a=n.min.y*i*-1,o=n.min.z*i*-1-(n.max.z-n.min.z)/2*i;t.translateX(r),t.translateY(a),t.translateZ(o),console.log(i,r,a,o);const s=new THREE.Vector3,l=new THREE.Vector3,f=new THREE.Vector3;l.copy(e.object3D.position),f.copy(e.object3D.scale),t.scale.set(1,1,1),t.position.set(0,0,0),t.updateMatrixWorld(!0);const u=new THREE.Box3;u.setFromObject(t);const c=new THREE.Sphere;u.getBoundingSphere(c);const d=c.center,_=c.radius,w=1*(0===_?1:1/_);t.traverse(e=>{e.isMesh&&(e.geometry.scale(w,w,w),e.geometry.translate(-w*d.x+s.x,-w*d.y+s.y,-w*d.z+s.z),e.geometry.computeBoundingBox(),e.geometry.computeBoundingSphere())}),t.scale.copy(f),t.position.copy(l),t.updateMatrixWorld(!0),console.log("norm",w,u,d,_)},_remove:function(){this.model&&this.el.removeObject3D("mesh")},remove:function(){this._remove()},getGLTFUrl:function(e,t){const n="https://api.sketchfab.com/v3/models/MODEL/download".replace(/MODEL/,e);return fetch(n,{method:"GET",headers:{Authorization:"Bearer "+t},mode:"cors"}).then(e=>e.json().catch(e=>(console.log('ERROR parsing Sketchfab server response JSON.\nRequested Model: "'+n+'"\nError: "'+JSON.stringify(e)+'"'),Promise.reject("Sketchfab API server error. Check console for details."))).then(e=>e.gltf.url?(console.log("loaded url",e),{...e.gltf}):Promise.reject("Sketchfab API error",e)))},loadSketchfabModel:function(e){const t=e.url;e.size;return new Promise((e,n)=>{this.download(t).then(t=>{const n=new THREE.GLTFLoader,i=t.modifiedAssets[t.url];n.load(i,e)})})},download:function(e){return new Promise((t,n)=>{this._readZip(e).then(e=>this._parseZip(e)).then(e=>{t(e)}).catch(n)})},_readZip:function(e){return new Promise((t,n)=>{var r=new i.HttpReader(e);i.createReader(r,e=>{e.getEntries(t)},n)})},_parseZip:function(e){return new Promise((t,n)=>{for(var i,r,a,o=[],s=0,l=e.length;s<l;s++)!0!==(r=e[s]).directory&&(r.filename.match(/\.gltf$/)&&(i=r.filename),(a=this._saveEntryToBlob(r)).then(e=>(e)),o.push(a));if(!i)return n("Can not find a .gltf file");Promise.all(o).then(e=>{var n=e.reduce((e,t)=>(e[t.name]=t.url,e),{});this._rewriteAssetURLs(n,i,e).then(e=>{t({assets:n,originalAssets:Object.assign({},n),modifiedAssets:e,url:i})})})})},_rewriteAssetURLs:function(e,t,n){return new Promise((i,r)=>{var a=Object.assign({},e),o=new FileReader,s=n.reduce((e,n)=>n.name===t?n:e,null);if(!s)return r("Cannot rewrite glTF (glTF not found)");o.onload=()=>{try{var e=JSON.parse(o.result);if(e.hasOwnProperty("buffers"))for(var n=0;n<e.buffers.length;n++)e.buffers[n].uri=a[e.buffers[n].uri];if(e.hasOwnProperty("images"))for(n=0;n<e.images.length;n++)e.images[n].uri=a[e.images[n].uri];var s=JSON.stringify(e,null,2),l=new Blob([s],{type:"text/plain"}),f=window.URL.createObjectURL(l);a[t]=f,i(a)}catch(e){r("Cannot parse glTF file",e)}},o.readAsText(s.blob)})},_saveEntryToBlob:function(e){return new Promise((t,n)=>{e.getData(new i.BlobWriter("text/plain"),n=>{var i=window.URL.createObjectURL(n);t({name:e.filename,url:i,blob:n})})})}})},function(e,t){!function(e){"use strict";var t,n="File format is not recognized.",i="Error while reading zip file.";try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function r(){this.crc=-1}function a(){}function o(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function s(){}function l(e){var t,n=this;n.size=0,n.init=function(i,r){var a=new Blob([e],{type:"text/plain"});(t=new u(a)).init((function(){n.size=t.size,i()}),r)},n.readUint8Array=function(e,n,i,r){t.readUint8Array(e,n,i,r)}}function f(t){var n,i=this;i.size=0,i.init=function(e){for(var r=t.length;"="==t.charAt(r-1);)r--;n=t.indexOf(",")+1,i.size=Math.floor(.75*(r-n)),e()},i.readUint8Array=function(i,r,a){var s,l=o(r),f=4*Math.floor(i/3),u=4*Math.ceil((i+r)/3),c=e.atob(t.substring(f+n,u+n)),d=i-3*Math.floor(f/4);for(s=d;s<d+r;s++)l.array[s-d]=c.charCodeAt(s);a(l.array)}}function u(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,r){var a=new FileReader;a.onload=function(e){i(new Uint8Array(e.target.result))},a.onerror=r;try{a.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){r(e)}}}function c(){}function d(e){var n;this.init=function(e){n=new Blob([],{type:"text/plain"}),e()},this.writeUint8Array=function(e,i){n=new Blob([n,t?e:e.buffer],{type:"text/plain"}),i()},this.getData=function(t,i){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=i,r.readAsText(n,e)}}function _(t){var n="",i="";this.init=function(e){n+="data:"+(t||"")+";base64,",e()},this.writeUint8Array=function(t,r){var a,o=i.length,s=i;for(i="",a=0;a<3*Math.floor((o+t.length)/3)-o;a++)s+=String.fromCharCode(t[a]);for(;a<t.length;a++)i+=String.fromCharCode(t[a]);s.length>2?n+=e.btoa(s):i=s,r()},this.getData=function(t){t(n+e.btoa(i))}}function w(e){var n;this.init=function(t){n=new Blob([],{type:e}),t()},this.writeUint8Array=function(i,r){n=new Blob([n,t?i:i.buffer],{type:e}),r()},this.getData=function(e){e(n)}}function h(e,t,n,i,r,a,o,s,l,f){var u,c,d,_=0,w=t.sn;function h(){e.removeEventListener("message",b,!1),s(c,d)}function b(t){var n=t.data,r=n.data,s=n.error;if(s)return s.toString=function(){return"Error: "+this.message},void l(s);if(n.sn===w)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":r?(c+=r.length,i.writeUint8Array(r,(function(){p()}),f)):p();break;case"flush":d=n.crc,r?(c+=r.length,i.writeUint8Array(r,(function(){h()}),f)):h();break;case"progress":o&&o(u+n.loaded,a);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function p(){(u=524288*_)<=a?n.readUint8Array(r+u,Math.min(524288,a-u),(function(n){o&&o(u,a);var i=0===u?t:{sn:w};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(t){e.postMessage(i)}_++}),l):e.postMessage({sn:w,type:"flush"})}c=0,e.addEventListener("message",b,!1),p()}function b(e,t,n,i,a,o,s,l,f,u){var c,d=0,_=0,w="input"===o,h="output"===o,b=new r;!function r(){var o;if((c=524288*d)<a)t.readUint8Array(i+c,Math.min(524288,a-c),(function(t){var i;try{i=e.append(t,(function(e){s&&s(c+e,a)}))}catch(e){return void f(e)}i?(_+=i.length,n.writeUint8Array(i,(function(){d++,setTimeout(r,1)}),u),h&&b.append(i)):(d++,setTimeout(r,1)),w&&b.append(t),s&&s(c,a)}),f);else{try{o=e.flush()}catch(e){return void f(e)}o?(h&&b.append(o),_+=o.length,n.writeUint8Array(o,(function(){l(_,b.get())}),u)):l(_,b.get())}}()}function p(t,n,i,r,o,s,l,f,u,c,d){e.zip.useWebWorkers&&l?h(t,{sn:n,codecClass:"NOOP",crcType:"input"},i,r,o,s,u,f,c,d):b(new a,i,r,o,s,"input",u,f,c,d)}function v(e){var t,n,i="",r=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?r[n-128]:String.fromCharCode(n);return i}function m(e){return decodeURIComponent(escape(e))}function x(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function y(e,t,n,i,r){e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((i||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0)):r("File is using Zip64 (4gb+ file size).")):r("File contains encrypted entry.")}function g(t,r,a){var s=0;function l(){}l.prototype.getData=function(i,r,l,f){var u=this;function c(e,t){f&&!function(e){var t=o(4);return t.view.setUint32(0,e),u.crc32==t.view.getUint32(0)}(t)?a("CRC failed."):i.getData((function(e){r(e)}))}function d(e){a(e||"Error while reading file data.")}function _(e){a(e||"Error while writing file data.")}t.readUint8Array(u.offset,30,(function(r){var w,v=o(r.length,r);1347093252==v.view.getUint32(0)?(y(u,v,4,!1,a),w=u.offset+30+u.filenameLength+u.extraFieldLength,i.init((function(){0===u.compressionMethod?p(u._worker,s++,t,i,w,u.compressedSize,f,c,l,d,_):function(t,n,i,r,a,o,s,l,f,u,c){var d=s?"output":"none";e.zip.useWebWorkers?h(t,{sn:n,codecClass:"Inflater",crcType:d},i,r,a,o,f,l,u,c):b(new e.zip.Inflater,i,r,a,o,d,f,l,u,c)}(u._worker,s++,t,i,w,u.compressedSize,f,c,l,d,_)}),_)):a(n)}),d)};var f={getEntries:function(e){var r=this._worker;!function(e){if(t.size<22)a(n);else{r(22,(function(){r(Math.min(65558,t.size),(function(){a(n)}))}))}function r(n,r){t.readUint8Array(t.size-n,n,(function(t){for(var n=t.length-22;n>=0;n--)if(80===t[n]&&75===t[n+1]&&5===t[n+2]&&6===t[n+3])return void e(new DataView(t.buffer,n,22));r()}),(function(){a(i)}))}}((function(s){var f,u;f=s.getUint32(16,!0),u=s.getUint16(8,!0),f<0||f>=t.size?a(n):t.readUint8Array(f,t.size-f,(function(t){var i,s,f,c,d=0,_=[],w=o(t.length,t);for(i=0;i<u;i++){if((s=new l)._worker=r,1347092738!=w.view.getUint32(d))return void a(n);y(s,w,d+6,!0,a),s.commentLength=w.view.getUint16(d+32,!0),s.directory=16==(16&w.view.getUint8(d+38)),s.offset=w.view.getUint32(d+42,!0),f=x(w.array.subarray(d+46,d+46+s.filenameLength)),s.filename=2048==(2048&s.bitFlag)?m(f):v(f),s.directory||"/"!=s.filename.charAt(s.filename.length-1)||(s.directory=!0),c=x(w.array.subarray(d+46+s.filenameLength+s.extraFieldLength,d+46+s.filenameLength+s.extraFieldLength+s.commentLength)),s.comment=2048==(2048&s.bitFlag)?m(c):v(c),_.push(s),d+=46+s.filenameLength+s.extraFieldLength+s.commentLength}e(_)}),(function(){a(i)}))}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?E("inflater",(function(e){f._worker=e,r(f)}),(function(e){a(e)})):r(f)}function k(e){return unescape(encodeURIComponent(e))}function z(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function U(t,n,i,r){var a={},s=[],l=0,f=0;function u(e){i(e||"Error while writing zip file.")}function c(e){i(e||"Error while reading file data.")}var d={add:function(n,d,_,w,v){var m,x,y,g=this._worker;function U(e,n){var i=o(16);l+=e||0,i.view.setUint32(0,1347094280),void 0!==n&&(m.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),d&&(i.view.setUint32(8,e,!0),m.view.setUint32(14,e,!0),i.view.setUint32(12,d.size,!0),m.view.setUint32(18,d.size,!0)),t.writeUint8Array(i.array,(function(){l+=16,_()}),u)}function A(){v=v||{},n=n.trim(),v.directory&&"/"!=n.charAt(n.length-1)&&(n+="/"),a.hasOwnProperty(n)?i("File already exists."):(x=z(k(n)),s.push(n),function(e){var i;y=v.lastModDate||new Date,m=o(26),a[n]={headerArray:m.array,directory:v.directory,filename:x,offset:l,comment:z(k(v.comment||""))},m.view.setUint32(0,335546376),v.version&&m.view.setUint8(0,v.version),r||0===v.level||v.directory||m.view.setUint16(4,2048),m.view.setUint16(6,(y.getHours()<<6|y.getMinutes())<<5|y.getSeconds()/2,!0),m.view.setUint16(8,(y.getFullYear()-1980<<4|y.getMonth()+1)<<5|y.getDate(),!0),m.view.setUint16(22,x.length,!0),(i=o(30+x.length)).view.setUint32(0,1347093252),i.array.set(m.array,4),i.array.set(x,30),l+=i.array.length,t.writeUint8Array(i.array,e,u)}((function(){d?r||0===v.level?p(g,f++,d,t,0,d.size,!0,U,w,c,u):function(t,n,i,r,a,o,s,l,f){e.zip.useWebWorkers?h(t,{sn:n,options:{level:a},codecClass:"Deflater",crcType:"input"},i,r,0,i.size,s,o,l,f):b(new e.zip.Deflater,i,r,0,i.size,"input",s,o,l,f)}(g,f++,d,t,v.level,U,w,c,u):U()})))}d?d.init(A,c):A()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,r,f=0,c=0;for(i=0;i<s.length;i++)f+=46+(r=a[s[i]]).filename.length+r.comment.length;for(n=o(f+22),i=0;i<s.length;i++)r=a[s[i]],n.view.setUint32(c,1347092738),n.view.setUint16(c+4,5120),n.array.set(r.headerArray,c+6),n.view.setUint16(c+32,r.comment.length,!0),r.directory&&n.view.setUint8(c+38,16),n.view.setUint32(c+42,r.offset,!0),n.array.set(r.filename,c+46),n.array.set(r.comment,c+46+r.filename.length),c+=46+r.filename.length+r.comment.length;n.view.setUint32(c,1347093766),n.view.setUint16(c+8,s.length,!0),n.view.setUint16(c+10,s.length,!0),n.view.setUint32(c+12,f,!0),n.view.setUint32(c+16,l,!0),t.writeUint8Array(n.array,(function(){t.getData(e)}),u)},_worker:null};e.zip.useWebWorkers?E("deflater",(function(e){d._worker=e,n(d)}),(function(e){i(e)})):n(d)}r.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,r=0|e.length;i<r;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},r.prototype.get=function(){return~this.crc},r.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),a.prototype.append=function(e,t){return e},a.prototype.flush=function(){},l.prototype=new s,l.prototype.constructor=l,f.prototype=new s,f.prototype.constructor=f,u.prototype=new s,u.prototype.constructor=u,c.prototype.getData=function(e){e(this.data)},d.prototype=new c,d.prototype.constructor=d,_.prototype=new c,_.prototype.constructor=_,w.prototype=new c,w.prototype.constructor=w;var A={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function E(t,n,i){if(null===e.zip.workerScripts||null===e.zip.workerScriptsPath){var r,a,o;if(e.zip.workerScripts){if(r=e.zip.workerScripts[t],!Array.isArray(r))return void i(new Error("zip.workerScripts."+t+" is not an array!"));a=r,o=document.createElement("a"),r=a.map((function(e){return o.href=e,o.href}))}else(r=A[t].slice(0))[0]=(e.zip.workerScriptsPath||"")+r[0];var s=new Worker(r[0]);s.codecTime=s.crcTime=0,s.postMessage({type:"importScripts",scripts:r.slice(1)}),s.addEventListener("message",(function e(t){var r=t.data;if(r.error)return s.terminate(),void i(r.error);"importScripts"===r.type&&(s.removeEventListener("message",e),s.removeEventListener("error",l),n(s))})),s.addEventListener("error",l)}else i(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function l(e){s.terminate(),i(e)}}function R(e){console.error(e)}e.zip={Reader:s,Writer:c,BlobReader:u,Data64URIReader:f,TextReader:l,BlobWriter:w,Data64URIWriter:_,TextWriter:d,createReader:function(e,t,n){n=n||R,e.init((function(){g(e,t,n)}),n)},createWriter:function(e,t,n,i){n=n||R,i=!!i,e.init((function(){U(e,t,n,i)}),n)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this)},function(e,t){!function(){"use strict";var e,t,n=zip.Reader,i=zip.Writer;try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function r(e){var t=this;function n(n,i){var r;t.data?n():((r=new XMLHttpRequest).addEventListener("load",(function(){t.size||(t.size=Number(r.getResponseHeader("Content-Length"))||Number(r.response.byteLength)),t.data=new Uint8Array(r.response),n()}),!1),r.addEventListener("error",i,!1),r.open("GET",e),r.responseType="arraybuffer",r.send())}t.size=0,t.init=function(i,r){if(function(e){var t=document.createElement("a");return t.href=e,"http:"===t.protocol||"https:"===t.protocol}(e)){var a=new XMLHttpRequest;a.addEventListener("load",(function(){t.size=Number(a.getResponseHeader("Content-Length")),t.size?i():n(i,r)}),!1),a.addEventListener("error",r,!1),a.open("HEAD",e),a.send()}else n(i,r)},t.readUint8Array=function(e,i,r,a){n((function(){r(new Uint8Array(t.data.subarray(e,e+i)))}),a)}}function a(e){var t=this;t.size=0,t.init=function(n,i){var r=new XMLHttpRequest;r.addEventListener("load",(function(){t.size=Number(r.getResponseHeader("Content-Length")),"bytes"==r.getResponseHeader("Accept-Ranges")?n():i("HTTP Range not supported.")}),!1),r.addEventListener("error",i,!1),r.open("HEAD",e),r.send()},t.readUint8Array=function(t,n,i,r){!function(t,n,i,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="arraybuffer",a.setRequestHeader("Range","bytes="+t+"-"+(t+n-1)),a.addEventListener("load",(function(){i(a.response)}),!1),a.addEventListener("error",r,!1),a.send()}(t,n,(function(e){i(new Uint8Array(e))}),r)}}function o(e){var t=this;t.size=0,t.init=function(n,i){t.size=e.byteLength,n()},t.readUint8Array=function(t,n,i,r){i(new Uint8Array(e.slice(t,t+n)))}}function s(){var e;this.init=function(t,n){e=new Uint8Array,t()},this.writeUint8Array=function(t,n,i){var r=new Uint8Array(e.length+t.length);r.set(e),r.set(t,e.length),e=r,n()},this.getData=function(t){t(e.buffer)}}function l(e,n){var i;this.init=function(t,n){e.createWriter((function(e){i=e,t()}),n)},this.writeUint8Array=function(e,r,a){var o=new Blob([t?e:e.buffer],{type:n});i.onwrite=function(){i.onwrite=null,r()},i.onerror=a,i.write(o)},this.getData=function(t){e.file(t)}}r.prototype=new n,r.prototype.constructor=r,a.prototype=new n,a.prototype.constructor=a,o.prototype=new n,o.prototype.constructor=o,s.prototype=new i,s.prototype.constructor=s,l.prototype=new i,l.prototype.constructor=l,zip.FileWriter=l,zip.HttpReader=r,zip.HttpRangeReader=a,zip.ArrayBufferReader=o,zip.ArrayBufferWriter=s,zip.fs&&((e=zip.fs.ZipDirectoryEntry).prototype.addHttpContent=function(t,n,i){return function(t,n,i,r){if(t.directory)return r?new e(t.fs,n,i,t):new zip.fs.ZipFileEntry(t.fs,n,i,t);throw"Parent entry is not a directory."}(this,t,{data:n,Reader:i?a:r})},e.prototype.importHttpContent=function(e,t,n,i){this.importZip(t?new a(e):new r(e),n,i)},zip.fs.FS.prototype.importHttpContent=function(t,n,i,r){this.entries=[],this.root=new e(this),this.root.importHttpContent(t,n,i,r)})}()},function(e,t){!function(e){"use strict";var t=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],n=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],i=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function l(){var e,t,n,i,l,f;function u(e,t,r,a,o,s,u,c,d,_,w){var h,b,p,v,m,x,y,g,k,z,U,A,E,R,S;z=0,m=r;do{n[e[t+z]]++,z++,m--}while(0!==m);if(n[0]==r)return u[0]=-1,c[0]=0,0;for(g=c[0],x=1;x<=15&&0===n[x];x++);for(y=x,g<x&&(g=x),m=15;0!==m&&0===n[m];m--);for(p=m,g>m&&(g=m),c[0]=g,R=1<<x;x<m;x++,R<<=1)if((R-=n[x])<0)return-3;if((R-=n[m])<0)return-3;for(n[m]+=R,f[1]=x=0,z=1,E=2;0!=--m;)f[E]=x+=n[z],E++,z++;m=0,z=0;do{0!==(x=e[t+z])&&(w[f[x]++]=m),z++}while(++m<r);for(r=f[p],f[0]=m=0,z=0,v=-1,A=-g,l[0]=0,U=0,S=0;y<=p;y++)for(h=n[y];0!=h--;){for(;y>A+g;){if(v++,S=(S=p-(A+=g))>g?g:S,(b=1<<(x=y-A))>h+1&&(b-=h+1,E=y,x<S))for(;++x<S&&!((b<<=1)<=n[++E]);)b-=n[E];if(S=1<<x,_[0]+S>1440)return-3;l[v]=U=_[0],_[0]+=S,0!==v?(f[v]=m,i[0]=x,i[1]=g,x=m>>>A-g,i[2]=U-l[v-1]-x,d.set(i,3*(l[v-1]+x))):u[0]=U}for(i[1]=y-A,z>=r?i[0]=192:w[z]<a?(i[0]=w[z]<256?0:96,i[2]=w[z++]):(i[0]=s[w[z]-a]+16+64,i[2]=o[w[z++]-a]),b=1<<y-A,x=m>>>A;x<S;x+=b)d.set(i,3*(U+x));for(x=1<<y-1;0!=(m&x);x>>>=1)m^=x;for(m^=x,k=(1<<A)-1;(m&k)!=f[v];)v--,k=(1<<(A-=g))-1}return 0!==R&&1!=p?-5:0}function c(r){var a;for(e||(e=[],t=[],n=new Int32Array(16),i=[],l=new Int32Array(15),f=new Int32Array(16)),t.length<r&&(t=[]),a=0;a<r;a++)t[a]=0;for(a=0;a<16;a++)n[a]=0;for(a=0;a<3;a++)i[a]=0;l.set(n.subarray(0,15),0),f.set(n.subarray(0,16),0)}this.inflate_trees_bits=function(n,i,r,a,o){var s;return c(19),e[0]=0,-3==(s=u(n,0,19,19,null,null,r,i,a,e,t))?o.msg="oversubscribed dynamic bit lengths tree":-5!=s&&0!==i[0]||(o.msg="incomplete dynamic bit lengths tree",s=-3),s},this.inflate_trees_dynamic=function(n,i,l,f,d,_,w,h,b){var p;return c(288),e[0]=0,0!=(p=u(l,0,n,257,r,a,_,f,h,e,t))||0===f[0]?(-3==p?b.msg="oversubscribed literal/length tree":-4!=p&&(b.msg="incomplete literal/length tree",p=-3),p):(c(288),0!=(p=u(l,n,i,0,o,s,w,d,h,e,t))||0===d[0]&&n>257?(-3==p?b.msg="oversubscribed distance tree":-5==p?(b.msg="incomplete distance tree",p=-3):-4!=p&&(b.msg="empty distance tree with lengths",p=-3),p):0)}}l.inflate_trees_fixed=function(e,t,r,a){return e[0]=9,t[0]=5,r[0]=n,a[0]=i,0};function f(){var e,n,i,r,a=0,o=0,s=0,l=0,f=0,u=0,c=0,d=0,_=0,w=0;function h(e,n,i,r,a,o,s,l){var f,u,c,d,_,w,h,b,p,v,m,x,y,g,k,z;h=l.next_in_index,b=l.avail_in,_=s.bitb,w=s.bitk,v=(p=s.write)<s.read?s.read-p-1:s.end-p,m=t[e],x=t[n];do{for(;w<20;)b--,_|=(255&l.read_byte(h++))<<w,w+=8;if(0!==(d=(u=i)[z=3*((c=r)+(f=_&m))]))for(;;){if(_>>=u[z+1],w-=u[z+1],0!=(16&d)){for(d&=15,y=u[z+2]+(_&t[d]),_>>=d,w-=d;w<15;)b--,_|=(255&l.read_byte(h++))<<w,w+=8;for(d=(u=a)[z=3*((c=o)+(f=_&x))];;){if(_>>=u[z+1],w-=u[z+1],0!=(16&d)){for(d&=15;w<d;)b--,_|=(255&l.read_byte(h++))<<w,w+=8;if(g=u[z+2]+(_&t[d]),_>>=d,w-=d,v-=y,p>=g)p-(k=p-g)>0&&2>p-k?(s.window[p++]=s.window[k++],s.window[p++]=s.window[k++],y-=2):(s.window.set(s.window.subarray(k,k+2),p),p+=2,k+=2,y-=2);else{k=p-g;do{k+=s.end}while(k<0);if(y>(d=s.end-k)){if(y-=d,p-k>0&&d>p-k)do{s.window[p++]=s.window[k++]}while(0!=--d);else s.window.set(s.window.subarray(k,k+d),p),p+=d,k+=d,d=0;k=0}}if(p-k>0&&y>p-k)do{s.window[p++]=s.window[k++]}while(0!=--y);else s.window.set(s.window.subarray(k,k+y),p),p+=y,k+=y,y=0;break}if(0!=(64&d))return l.msg="invalid distance code",b+=y=w>>3<(y=l.avail_in-b)?w>>3:y,h-=y,w-=y<<3,s.bitb=_,s.bitk=w,l.avail_in=b,l.total_in+=h-l.next_in_index,l.next_in_index=h,s.write=p,-3;f+=u[z+2],d=u[z=3*(c+(f+=_&t[d]))]}break}if(0!=(64&d))return 0!=(32&d)?(b+=y=w>>3<(y=l.avail_in-b)?w>>3:y,h-=y,w-=y<<3,s.bitb=_,s.bitk=w,l.avail_in=b,l.total_in+=h-l.next_in_index,l.next_in_index=h,s.write=p,1):(l.msg="invalid literal/length code",b+=y=w>>3<(y=l.avail_in-b)?w>>3:y,h-=y,w-=y<<3,s.bitb=_,s.bitk=w,l.avail_in=b,l.total_in+=h-l.next_in_index,l.next_in_index=h,s.write=p,-3);if(f+=u[z+2],0===(d=u[z=3*(c+(f+=_&t[d]))])){_>>=u[z+1],w-=u[z+1],s.window[p++]=u[z+2],v--;break}}else _>>=u[z+1],w-=u[z+1],s.window[p++]=u[z+2],v--}while(v>=258&&b>=10);return b+=y=w>>3<(y=l.avail_in-b)?w>>3:y,h-=y,w-=y<<3,s.bitb=_,s.bitk=w,l.avail_in=b,l.total_in+=h-l.next_in_index,l.next_in_index=h,s.write=p,0}this.init=function(t,a,o,s,l,f){e=0,c=t,d=a,i=o,_=s,r=l,w=f,n=null},this.proc=function(b,p,v){var m,x,y,g,k,z,U,A=0,E=0,R=0;for(R=p.next_in_index,g=p.avail_in,A=b.bitb,E=b.bitk,z=(k=b.write)<b.read?b.read-k-1:b.end-k;;)switch(e){case 0:if(z>=258&&g>=10&&(b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,v=h(c,d,i,_,r,w,b,p),R=p.next_in_index,g=p.avail_in,A=b.bitb,E=b.bitk,z=(k=b.write)<b.read?b.read-k-1:b.end-k,0!=v)){e=1==v?7:9;break}s=c,n=i,o=_,e=1;case 1:for(m=s;E<m;){if(0===g)return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);v=0,g--,A|=(255&p.read_byte(R++))<<E,E+=8}if(A>>>=n[(x=3*(o+(A&t[m])))+1],E-=n[x+1],0===(y=n[x])){l=n[x+2],e=6;break}if(0!=(16&y)){f=15&y,a=n[x+2],e=2;break}if(0==(64&y)){s=y,o=x/3+n[x+2];break}if(0!=(32&y)){e=7;break}return e=9,p.msg="invalid literal/length code",v=-3,b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);case 2:for(m=f;E<m;){if(0===g)return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);v=0,g--,A|=(255&p.read_byte(R++))<<E,E+=8}a+=A&t[m],A>>=m,E-=m,s=d,n=r,o=w,e=3;case 3:for(m=s;E<m;){if(0===g)return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);v=0,g--,A|=(255&p.read_byte(R++))<<E,E+=8}if(A>>=n[(x=3*(o+(A&t[m])))+1],E-=n[x+1],0!=(16&(y=n[x]))){f=15&y,u=n[x+2],e=4;break}if(0==(64&y)){s=y,o=x/3+n[x+2];break}return e=9,p.msg="invalid distance code",v=-3,b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);case 4:for(m=f;E<m;){if(0===g)return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);v=0,g--,A|=(255&p.read_byte(R++))<<E,E+=8}u+=A&t[m],A>>=m,E-=m,e=5;case 5:for(U=k-u;U<0;)U+=b.end;for(;0!==a;){if(0===z&&(k==b.end&&0!==b.read&&(z=(k=0)<b.read?b.read-k-1:b.end-k),0===z&&(b.write=k,v=b.inflate_flush(p,v),z=(k=b.write)<b.read?b.read-k-1:b.end-k,k==b.end&&0!==b.read&&(z=(k=0)<b.read?b.read-k-1:b.end-k),0===z)))return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);b.window[k++]=b.window[U++],z--,U==b.end&&(U=0),a--}e=0;break;case 6:if(0===z&&(k==b.end&&0!==b.read&&(z=(k=0)<b.read?b.read-k-1:b.end-k),0===z&&(b.write=k,v=b.inflate_flush(p,v),z=(k=b.write)<b.read?b.read-k-1:b.end-k,k==b.end&&0!==b.read&&(z=(k=0)<b.read?b.read-k-1:b.end-k),0===z)))return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);v=0,b.window[k++]=l,z--,e=0;break;case 7:if(E>7&&(E-=8,g++,R--),b.write=k,v=b.inflate_flush(p,v),z=(k=b.write)<b.read?b.read-k-1:b.end-k,b.read!=b.write)return b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);e=8;case 8:return v=1,b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);case 9:return v=-3,b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v);default:return v=-2,b.bitb=A,b.bitk=E,p.avail_in=g,p.total_in+=R-p.next_in_index,p.next_in_index=R,b.write=k,b.inflate_flush(p,v)}},this.free=function(){}}var u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function c(e,n){var i,r=this,a=0,o=0,s=0,c=0,d=[0],_=[0],w=new f,h=0,b=new Int32Array(4320),p=new l;r.bitk=0,r.bitb=0,r.window=new Uint8Array(n),r.end=n,r.read=0,r.write=0,r.reset=function(e,t){t&&(t[0]=0),6==a&&w.free(e),a=0,r.bitk=0,r.bitb=0,r.read=r.write=0},r.reset(e,null),r.inflate_flush=function(e,t){var n,i,a;return i=e.next_out_index,(n=((a=r.read)<=r.write?r.write:r.end)-a)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(a,a+n),i),i+=n,(a+=n)==r.end&&(a=0,r.write==r.end&&(r.write=0),(n=r.write-a)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(r.window.subarray(a,a+n),i),i+=n,a+=n),e.next_out_index=i,r.read=a,t},r.proc=function(e,n){var f,v,m,x,y,g,k,z;for(x=e.next_in_index,y=e.avail_in,v=r.bitb,m=r.bitk,k=(g=r.write)<r.read?r.read-g-1:r.end-g;;)switch(a){case 0:for(;m<3;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}switch(h=1&(f=7&v),f>>>1){case 0:v>>>=3,v>>>=f=7&(m-=3),m-=f,a=1;break;case 1:var U=[],A=[],E=[[]],R=[[]];l.inflate_trees_fixed(U,A,E,R),w.init(U[0],A[0],E[0],0,R[0],0),v>>>=3,m-=3,a=6;break;case 2:v>>>=3,m-=3,a=3;break;case 3:return v>>>=3,m-=3,a=9,e.msg="invalid block type",n=-3,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n)}break;case 1:for(;m<32;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}if((~v>>>16&65535)!=(65535&v))return a=9,e.msg="invalid stored block lengths",n=-3,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);o=65535&v,v=m=0,a=0!==o?2:0!==h?7:0;break;case 2:if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);if(0===k&&(g==r.end&&0!==r.read&&(k=(g=0)<r.read?r.read-g-1:r.end-g),0===k&&(r.write=g,n=r.inflate_flush(e,n),k=(g=r.write)<r.read?r.read-g-1:r.end-g,g==r.end&&0!==r.read&&(k=(g=0)<r.read?r.read-g-1:r.end-g),0===k)))return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);if(n=0,(f=o)>y&&(f=y),f>k&&(f=k),r.window.set(e.read_buf(x,f),g),x+=f,y-=f,g+=f,k-=f,0!=(o-=f))break;a=0!==h?7:0;break;case 3:for(;m<14;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}if(s=f=16383&v,(31&f)>29||(f>>5&31)>29)return a=9,e.msg="too many length or distance symbols",n=-3,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);if(f=258+(31&f)+(f>>5&31),!i||i.length<f)i=[];else for(z=0;z<f;z++)i[z]=0;v>>>=14,m-=14,c=0,a=4;case 4:for(;c<4+(s>>>10);){for(;m<3;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}i[u[c++]]=7&v,v>>>=3,m-=3}for(;c<19;)i[u[c++]]=0;if(d[0]=7,0!=(f=p.inflate_trees_bits(i,d,_,b,e)))return-3==(n=f)&&(i=null,a=9),r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);c=0,a=5;case 5:for(;!(c>=258+(31&(f=s))+(f>>5&31));){var S,L;for(f=d[0];m<f;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}if(f=b[3*(_[0]+(v&t[f]))+1],(L=b[3*(_[0]+(v&t[f]))+2])<16)v>>>=f,m-=f,i[c++]=L;else{for(z=18==L?7:L-14,S=18==L?11:3;m<f+z;){if(0===y)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);n=0,y--,v|=(255&e.read_byte(x++))<<m,m+=8}if(m-=f,S+=(v>>>=f)&t[z],v>>>=z,m-=z,(z=c)+S>258+(31&(f=s))+(f>>5&31)||16==L&&z<1)return i=null,a=9,e.msg="invalid bit length repeat",n=-3,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);L=16==L?i[z-1]:0;do{i[z++]=L}while(0!=--S);c=z}}_[0]=-1;var M=[],T=[],D=[],F=[];if(M[0]=9,T[0]=6,f=s,0!=(f=p.inflate_trees_dynamic(257+(31&f),1+(f>>5&31),i,M,T,D,F,b,e)))return-3==f&&(i=null,a=9),n=f,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);w.init(M[0],T[0],b,D[0],b,F[0]),a=6;case 6:if(r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,1!=(n=w.proc(r,e,n)))return r.inflate_flush(e,n);if(n=0,w.free(e),x=e.next_in_index,y=e.avail_in,v=r.bitb,m=r.bitk,k=(g=r.write)<r.read?r.read-g-1:r.end-g,0===h){a=0;break}a=7;case 7:if(r.write=g,n=r.inflate_flush(e,n),k=(g=r.write)<r.read?r.read-g-1:r.end-g,r.read!=r.write)return r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);a=8;case 8:return n=1,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);case 9:return n=-3,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n);default:return n=-2,r.bitb=v,r.bitk=m,e.avail_in=y,e.total_in+=x-e.next_in_index,e.next_in_index=x,r.write=g,r.inflate_flush(e,n)}},r.free=function(e){r.reset(e,null),r.window=null,b=null},r.set_dictionary=function(e,t,n){r.window.set(e.subarray(t,t+n),0),r.read=r.write=n},r.sync_point=function(){return 1==a?1:0}}var d=[0,0,255,255];function _(){var e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):-2}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,0},e.inflateInit=function(n,i){return n.msg=null,e.blocks=null,i<8||i>15?(e.inflateEnd(n),-2):(e.wbits=i,n.istate.blocks=new c(n,1<<i),t(n),0)},e.inflate=function(e,t){var n,i;if(!e||!e.istate||!e.next_in)return-2;for(t=4==t?-5:0,n=-5;;)switch(e.istate.mode){case 0:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.read_byte(e.next_in_index++)))){e.istate.mode=13,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=13,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,i=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+i)%31!=0){e.istate.mode=13,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(32&i)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=3;case 3:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=4;case 4:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=5;case 5:return 0===e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=6,2);case 6:return e.istate.mode=13,e.msg="need dictionary",e.istate.marker=0,-2;case 7:if(-3==(n=e.istate.blocks.proc(e,n))){e.istate.mode=13,e.istate.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=12;case 12:return 1;case 13:return-3;default:return-2}},e.inflateSetDictionary=function(e,t,n){var i=0,r=n;return e&&e.istate&&6==e.istate.mode?(r>=1<<e.istate.wbits&&(i=n-(r=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(t,i,r),e.istate.mode=7,0):-2},e.inflateSync=function(e){var n,i,r,a,o;if(!e||!e.istate)return-2;if(13!=e.istate.mode&&(e.istate.mode=13,e.istate.marker=0),0===(n=e.avail_in))return-5;for(i=e.next_in_index,r=e.istate.marker;0!==n&&r<4;)e.read_byte(i)==d[r]?r++:r=0!==e.read_byte(i)?0:4-r,i++,n--;return e.total_in+=i-e.next_in_index,e.next_in_index=i,e.avail_in=n,e.istate.marker=r,4!=r?-3:(a=e.total_in,o=e.total_out,t(e),e.total_in=a,e.total_out=o,e.istate.mode=7,0)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():-2}}function w(){}w.prototype={inflateInit:function(e){return this.istate=new _,e||(e=15),this.istate.inflateInit(this,e)},inflate:function(e){return this.istate?this.istate.inflate(this,e):-2},inflateEnd:function(){if(!this.istate)return-2;var e=this.istate.inflateEnd(this);return this.istate=null,e},inflateSync:function(){return this.istate?this.istate.inflateSync(this):-2},inflateSetDictionary:function(e,t){return this.istate?this.istate.inflateSetDictionary(this,e,t):-2},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}};var h=e.zip||e;h.Inflater=h._jzlib_Inflater=function(){var e=new w,t=new Uint8Array(512),n=!1;e.inflateInit(),e.next_out=t,this.append=function(i,r){var a,o,s=[],l=0,f=0,u=0;if(0!==i.length){e.next_in_index=0,e.next_in=i,e.avail_in=i.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||n||(e.next_in_index=0,n=!0),a=e.inflate(0),n&&-5===a){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(0!==a&&1!==a)throw new Error("inflating: "+e.msg);if((n||1===a)&&e.avail_in===i.length)throw new Error("inflating: bad input");e.next_out_index&&(512===e.next_out_index?s.push(new Uint8Array(t)):s.push(new Uint8Array(t.subarray(0,e.next_out_index)))),u+=e.next_out_index,r&&e.next_in_index>0&&e.next_in_index!=l&&(r(e.next_in_index),l=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return o=new Uint8Array(u),s.forEach((function(e){o.set(e,f),f+=e.length})),o}},this.flush=function(){e.inflateEnd()}}}(this)}])}));